<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>

  <!-- jQuery CDN -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

  <link rel="stylesheet" href="./index.css" />
</head>

<body>
  <div style="overflow: hidden">
    <div class="slide-container">
      <div class="slide-box">
        <img src="./car1-1.png" draggable="false" />
      </div>
      <div class="slide-box">
        <img src="car2-1.png" draggable="false" />
      </div>
      <div class="slide-box">
        <img src="car3-1.png" draggable="false" />
      </div>
    </div>
  </div>
  <div>
    <b>알아야 할 이벤트들</b><br>
    mousedown - 눌렀을때<br>
    mouseup - 뗐을때<br>
    mousemove - 움직일때<br>
    e.clientX - 좌표
  </div>





  <script>
    var 시작좌표 = 0;
    var 눌렀냐 = false;

    // PC 마우스 동작시
    $('.slide-box').eq(0).on('mousedown', function (e) {
      시작좌표 = e.clientX;
      눌렀냐 = true;
    });

    $('.slide-box').eq(0).on('mousemove', function (e) {
      if (눌렀냐 == true) {
        $('.slide-container').css('transform', `translateX(${e.clientX - 시작좌표}px)`)
      };
    });

    $('.slide-box').eq(0).on('mouseup', function (e) {
      눌렀냐 = false;
      console.log(e.clientX - 시작좌표);

      if (e.clientX - 시작좌표 < -100) {
        $(".slide-container").css("transform", "translateX(-100vw)").css('transition', 'all .5s');
      } else {
        $(".slide-container").css("transform", "translateX(0vw)").css('transition', 'all .5s');
      };
    });
    
    setTimeout(() => {
      $(".slide-container").css('transition', 'none');
      
    }, 500);


    // mb 터치 동작시
    $('.slide-box').eq(0).on('touchstart', function (e) {
      시작좌표 = e.touches[0].clientX;
      눌렀냐 = true;
    });

    $('.slide-box').eq(0).on('touchmove', function (e) {
      if (눌렀냐 == true) {
        $('.slide-container').css('transform', `translateX(${e.touches[0].clientX - 시작좌표}px)`)
      };
    });

    $('.slide-box').eq(0).on('touchend', function (e) {
      눌렀냐 = false;
      console.log(e.changedTouches[0].clientX - 시작좌표);

      if (e.changedTouches[0].clientX - 시작좌표 < -100) {
        $(".slide-container").css("transform", "translateX(-100vw)").css('transition', 'all .5s');
      } else {
        $(".slide-container").css("transform", "translateX(0vw)").css('transition', 'all .5s');
      };
    });
    
    setTimeout(() => {
      $(".slide-container").css('transition', 'none');
      
    }, 500);

  </script>
</body>

</html>